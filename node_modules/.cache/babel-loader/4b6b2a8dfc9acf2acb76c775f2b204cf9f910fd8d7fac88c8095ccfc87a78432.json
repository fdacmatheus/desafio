{"ast":null,"code":"var _jsxFileName = \"/Users/matheusferreira/Desktop/desafio-contato-seguro/src/components/BookForm/BookForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\n// Ajuste os imports conforme necessário\n\n// Ajuste os imports conforme necessário\nimport useLocalStorage from '../LocalStorage/useLocalStorage'; // Ajuste o import conforme necessário\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookForm = ({\n  onSave,\n  initialData = {\n    id: '',\n    name: '',\n    authorId: '',\n    pages: 0\n  }\n}) => {\n  _s();\n  // Estado para armazenar os autores carregados do LocalStorage\n  const [authors, setAuthors] = useState([]);\n  const [storedAuthors] = useLocalStorage('authors', []);\n  useEffect(() => {\n    setAuthors(storedAuthors);\n  }, [storedAuthors]);\n  const validate = values => {\n    const errors = {};\n    if (!values.name) {\n      errors.name = 'Nome é obrigatório';\n    }\n    if (!values.authorId) {\n      errors.authorId = 'Autor é obrigatório';\n    }\n    if (values.pages != null && values.pages < 0) {\n      errors.pages = 'O número de páginas não pode ser negativo';\n    }\n    return errors;\n  };\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialData,\n    validate: validate,\n    onSubmit: (values, actions) => {\n      onSave(values);\n      actions.setSubmitting(false);\n    },\n    children: ({\n      isSubmitting,\n      setFieldValue\n    }) => /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Field, {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Nome do Livro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"name\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"authorId\",\n          children: \"Autor: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          as: \"select\",\n          name: \"authorId\",\n          onChange: e => setFieldValue('authorId', e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecione um Autor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), authors.map(author => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: author.id,\n            children: author.name\n          }, author.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"authorId\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        type: \"number\",\n        name: \"pages\",\n        placeholder: \"N\\xFAmero de P\\xE1ginas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"pages\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isSubmitting,\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(BookForm, \"gKyZyb/AKCCYv4bLY2rvOloxq3Y=\", false, function () {\n  return [useLocalStorage];\n});\n_c = BookForm;\nexport default BookForm;\nvar _c;\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"names":["React","useEffect","useState","Formik","Form","Field","ErrorMessage","useLocalStorage","jsxDEV","_jsxDEV","BookForm","onSave","initialData","id","name","authorId","pages","_s","authors","setAuthors","storedAuthors","validate","values","errors","initialValues","onSubmit","actions","setSubmitting","children","isSubmitting","setFieldValue","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","component","htmlFor","as","onChange","e","target","value","map","author","disabled","_c","$RefreshReg$"],"sources":["/Users/matheusferreira/Desktop/desafio-contato-seguro/src/components/BookForm/BookForm.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Book } from '../../models/Book';// Ajuste os imports conforme necessário\nimport { Author } from '../../models/Author';// Ajuste os imports conforme necessário\nimport useLocalStorage from '../LocalStorage/useLocalStorage'; // Ajuste o import conforme necessário\n\ninterface BookFormProps {\n  onSave: (book: Book) => void;\n  initialData?: Book;\n}\n\nconst BookForm: React.FC<BookFormProps> = ({ onSave, initialData = { id: '', name: '', authorId: '', pages: 0 } }) => {\n  // Estado para armazenar os autores carregados do LocalStorage\n  const [authors, setAuthors] = useState<Author[]>([]);\n  const [storedAuthors] = useLocalStorage<Author[]>('authors', []);\n\n  useEffect(() => {\n    setAuthors(storedAuthors);\n  }, [storedAuthors]);\n\n  const validate = (values: Book) => {\n    const errors: Record<string, string> = {};\n    if (!values.name) {\n      errors.name = 'Nome é obrigatório';\n    }\n    if (!values.authorId) {\n      errors.authorId = 'Autor é obrigatório';\n    }\n    if (values.pages != null && values.pages < 0) {\n      errors.pages = 'O número de páginas não pode ser negativo';\n    }\n    return errors;\n  };\n\n  return (\n    <Formik\n      initialValues={initialData}\n      validate={validate}\n      onSubmit={(values, actions) => {\n        onSave(values);\n        actions.setSubmitting(false);\n      }}\n    >\n      {({ isSubmitting, setFieldValue }) => (\n        <Form>\n          <Field type=\"text\" name=\"name\" placeholder=\"Nome do Livro\" />\n          <ErrorMessage name=\"name\" component=\"div\" />\n\n          {/* Campo de seleção para autores */}\n          <div>\n            <label htmlFor=\"authorId\">Autor: </label>\n            <Field as=\"select\" name=\"authorId\" onChange={e => setFieldValue('authorId', e.target.value)}>\n              <option value=\"\">Selecione um Autor</option>\n              {authors.map(author => (\n                <option key={author.id} value={author.id}>\n                  {author.name}\n                </option>\n              ))}\n            </Field>\n          </div>\n          <ErrorMessage name=\"authorId\" component=\"div\" />\n\n          <Field type=\"number\" name=\"pages\" placeholder=\"Número de Páginas\" />\n          <ErrorMessage name=\"pages\" component=\"div\" />\n\n          <button type=\"submit\" disabled={isSubmitting}>\n            Salvar\n          </button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default BookForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
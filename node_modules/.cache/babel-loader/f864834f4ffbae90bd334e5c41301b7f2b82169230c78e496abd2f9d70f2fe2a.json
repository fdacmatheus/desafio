{"ast":null,"code":"var _jsxFileName = \"/Users/matheusferreira/Desktop/desafio-contato-seguro/src/components/BookForm/BookForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\n// Ajuste os imports conforme necessário\n\n// Ajuste os imports conforme necessário\nimport useLocalStorage from '../LocalStorage/useLocalStorage'; // Ajuste o import conforme necessário\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookForm = ({\n  onSave,\n  initialData = {\n    id: '',\n    name: '',\n    authorId: '',\n    pages: 0\n  }\n}) => {\n  _s();\n  const [authors] = useLocalStorage('authors', []);\n  const [authorOptions, setAuthorOptions] = useState([]);\n  useEffect(() => {\n    const options = authors.map(author => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: author.id,\n      children: author.name\n    }, author.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this));\n    setAuthorOptions(options);\n  }, [authors]);\n  const validate = values => {\n    const errors = {};\n    if (!values.name) {\n      errors.name = 'Nome é obrigatório';\n    }\n    if (!values.authorId) {\n      errors.authorId = 'Autor é obrigatório';\n    }\n    if (values.pages != null && values.pages < 0) {\n      errors.pages = 'O número de páginas não pode ser negativo';\n    }\n    return errors;\n  };\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialData,\n    validate: validate,\n    onSubmit: (values, actions) => {\n      onSave(values);\n      actions.setSubmitting(false);\n    },\n    children: ({\n      isSubmitting,\n      setFieldValue\n    }) => /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Field, {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Nome do Livro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"name\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"authorId\",\n          children: \"Autor: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          as: \"select\",\n          name: \"authorId\",\n          onChange: e => setFieldValue('authorId', e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecione um Autor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), authorOptions]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"authorId\",\n          component: \"div\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        type: \"number\",\n        name: \"pages\",\n        placeholder: \"N\\xFAmero de P\\xE1ginas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        name: \"pages\",\n        component: \"div\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isSubmitting,\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(BookForm, \"31vM+62Bff4xXCDgTlKOuBYbbMA=\", false, function () {\n  return [useLocalStorage];\n});\n_c = BookForm;\nexport default BookForm;\nvar _c;\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"names":["React","useEffect","useState","Formik","Form","Field","ErrorMessage","useLocalStorage","jsxDEV","_jsxDEV","BookForm","onSave","initialData","id","name","authorId","pages","_s","authors","authorOptions","setAuthorOptions","options","map","author","value","children","fileName","_jsxFileName","lineNumber","columnNumber","validate","values","errors","initialValues","onSubmit","actions","setSubmitting","isSubmitting","setFieldValue","type","placeholder","component","htmlFor","as","onChange","e","target","disabled","_c","$RefreshReg$"],"sources":["/Users/matheusferreira/Desktop/desafio-contato-seguro/src/components/BookForm/BookForm.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Book } from '../../models/Book';// Ajuste os imports conforme necessário\nimport { Author } from '../../models/Author';// Ajuste os imports conforme necessário\nimport useLocalStorage from '../LocalStorage/useLocalStorage'; // Ajuste o import conforme necessário\n\ninterface BookFormProps {\n  onSave: (book: Book) => void;\n  initialData?: Book;\n}\n\nconst BookForm: React.FC<BookFormProps> = ({ onSave, initialData = { id: '', name: '', authorId: '', pages: 0 } }) => {\n  const [authors] = useLocalStorage<Author[]>('authors', []);\n  const [authorOptions, setAuthorOptions] = useState<JSX.Element[]>([]);\n\n  useEffect(() => {\n    const options = authors.map(author => (\n      <option key={author.id} value={author.id}>\n        {author.name}\n      </option>\n    ));\n    setAuthorOptions(options);\n  }, [authors]);\n\n  const validate = (values: Book) => {\n    const errors: Record<string, string> = {};\n    if (!values.name) {\n      errors.name = 'Nome é obrigatório';\n    }\n    if (!values.authorId) {\n      errors.authorId = 'Autor é obrigatório';\n    }\n    if (values.pages != null && values.pages < 0) {\n      errors.pages = 'O número de páginas não pode ser negativo';\n    }\n    return errors;\n  };\n\n  return (\n    <Formik\n      initialValues={initialData}\n      validate={validate}\n      onSubmit={(values, actions) => {\n        onSave(values);\n        actions.setSubmitting(false);\n      }}\n    >\n      {({ isSubmitting, setFieldValue }) => (\n        <Form>\n          <Field type=\"text\" name=\"name\" placeholder=\"Nome do Livro\" />\n          <ErrorMessage name=\"name\" component=\"div\" />\n\n          <div>\n            <label htmlFor=\"authorId\">Autor: </label>\n            <Field as=\"select\" name=\"authorId\" onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setFieldValue('authorId', e.target.value)}>\n              <option value=\"\">Selecione um Autor</option>\n              {authorOptions}\n            </Field>\n            <ErrorMessage name=\"authorId\" component=\"div\" />\n          </div>\n\n          <Field type=\"number\" name=\"pages\" placeholder=\"Número de Páginas\" />\n          <ErrorMessage name=\"pages\" component=\"div\" />\n\n          <button type=\"submit\" disabled={isSubmitting}>\n            Salvar\n          </button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default BookForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}